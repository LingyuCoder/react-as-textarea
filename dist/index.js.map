{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 1771ef63cc669bd15c3c","webpack:///./src/index.jsx","webpack:///./src/calHeight.jsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","arguments","length","source","key","_createClass","defineProperties","props","descriptor","defineProperty","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_calHeight","_calHeight2","Textarea","_React$Component","_this","getPrototypeOf","state","height","_handleChange","bind","_resize","nextProps","setState","prevProps","prevState","onHeightChange","findDOMNode","minRows","maxRows","e","onChange","_props","style","createElement","Component","displayName","propTypes","PropTypes","number","func","string","defaultProps","getStyleInfo","textarea","computedStyle","window","getComputedStyle","boxSizing","getPrefixedStyle","heightAdjust","padding","getStyleNumber","border","styles","STYLES","map","name","getPropertyValue","prefix","tmp","undefined","parseFloat","getSingleRowHeight","result","scrollHeight","calHeight","shadowTextarea","document","body","appendChild","_getStyleInfo","setAttribute","concat","HIDDEN_TEXTAREA_STYLE","join","minHeight","Infinity","maxHeight","singleRowHeight","Math","max","min"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Textarea\"] = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse\n\t\troot[\"Textarea\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Textarea\"] = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse\n\t\troot[\"Textarea\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(3);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _calHeight = __webpack_require__(1);\n\t\n\tvar _calHeight2 = _interopRequireDefault(_calHeight);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Textarea = function (_React$Component) {\n\t  _inherits(Textarea, _React$Component);\n\t\n\t  function Textarea(props) {\n\t    _classCallCheck(this, Textarea);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Textarea).call(this, props));\n\t\n\t    _this.state = {\n\t      value: props.value,\n\t      height: null\n\t    };\n\t    _this._handleChange = _this._handleChange.bind(_this);\n\t    _this._resize = _this._resize.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Textarea, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this._resize();\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(nextProps) {\n\t      'value' in nextProps && this.setState({ value: nextProps.value });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate(prevProps, prevState) {\n\t      this.state.height !== prevState.height && this.props.onHeightChange(this.state.height, prevState.height);\n\t    }\n\t  }, {\n\t    key: '_resize',\n\t    value: function _resize() {\n\t      this.setState({\n\t        height: _calHeight2.default.bind(_reactDom2.default.findDOMNode(this))(this.props.minRows, this.props.maxRows)\n\t      });\n\t    }\n\t  }, {\n\t    key: '_handleChange',\n\t    value: function _handleChange(e) {\n\t      this._resize();\n\t      var value = e.target.value;\n\t      this.setState({ value: value });\n\t      this.props.onChange(value);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _props = this.props;\n\t      var onChange = _props.onChange;\n\t      var value = _props.value;\n\t\n\t      var props = _objectWithoutProperties(_props, ['onChange', 'value']);\n\t\n\t      props = _extends({}, props);\n\t      props.style = _extends({}, props.style, {\n\t        height: this.state.height\n\t      });\n\t      return _react2.default.createElement('textarea', _extends({ onChange: this._handleChange, value: this.state.value }, props));\n\t    }\n\t  }]);\n\t\n\t  return Textarea;\n\t}(_react2.default.Component);\n\t\n\tTextarea.displayName = 'Textarea';\n\tTextarea.propTypes = {\n\t  /**\n\t   * the maximum number of rows\n\t   */\n\t  maxRows: _react2.default.PropTypes.number,\n\t  /**\n\t   * the minimum number of rows\n\t   */\n\t  minRows: _react2.default.PropTypes.number,\n\t  /**\n\t   * callback when text changes\n\t   */\n\t  onChange: _react2.default.PropTypes.func,\n\t  /**\n\t   * callback when height changes\n\t   */\n\t  onHeightChange: _react2.default.PropTypes.func,\n\t  /**\n\t   * current value of textarea\n\t   */\n\t  value: _react2.default.PropTypes.string\n\t};\n\tTextarea.defaultProps = {\n\t  minRows: 3,\n\t  maxRows: 5,\n\t  onChange: function onChange() {},\n\t  onHeightChange: function onHeightChange() {}\n\t};\n\texports.default = Textarea;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = calHeight;\n\tvar HIDDEN_TEXTAREA_STYLE = ['height: 0', 'visibility: hidden', 'overflow: hidden', 'position: absolute', 'z-index: -1000', 'top: 0', 'right: 0'];\n\tvar STYLES = ['letter-spacing', 'line-height', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'font-family', 'font-weight', 'font-size', 'text-transform', 'width', 'border-width', 'box-sizing'];\n\tvar shadowTextarea = null;\n\tfunction getStyleInfo(textarea) {\n\t  var computedStyle = window.getComputedStyle(textarea);\n\t  var boxSizing = getPrefixedStyle(computedStyle, 'box-sizing');\n\t  var heightAdjust = 0;\n\t  var padding = getStyleNumber(computedStyle, 'padding-top') + getStyleNumber(computedStyle, 'padding-bottom');\n\t  var border = getStyleNumber(computedStyle, 'border-bottom-width') + getStyleNumber(computedStyle, 'border-top-width');\n\t  if (boxSizing === 'border-box') heightAdjust += border;else if (boxSizing === 'content-box') heightAdjust -= padding;\n\t  return {\n\t    styles: STYLES.map(function (name) {\n\t      return name + ':' + computedStyle.getPropertyValue(name);\n\t    }),\n\t    padding: padding,\n\t    border: border,\n\t    heightAdjust: heightAdjust\n\t  };\n\t}\n\t\n\tfunction getPrefixedStyle(computedStyle, name) {\n\t  var prefix = ['-o-', '-ms-', '-moz-', '-webkit-', ''];\n\t  var tmp = undefined;\n\t  for (var i = prefix.length; i--;) {\n\t    if (tmp = computedStyle.getPropertyValue(prefix[i] + name)) return tmp;\n\t  }return null;\n\t}\n\t\n\tfunction getStyleNumber(computedStyle, name) {\n\t  return parseFloat(computedStyle.getPropertyValue(name));\n\t}\n\t\n\tfunction getSingleRowHeight(textarea) {\n\t  var tmp = textarea.value;\n\t  textarea.value = 'x';\n\t  var result = textarea.scrollHeight;\n\t  textarea.value = tmp;\n\t  return result;\n\t}\n\t\n\tfunction calHeight(minRows, maxRows) {\n\t  if (!shadowTextarea) document.body.appendChild(shadowTextarea = document.createElement('textarea'));\n\t\n\t  var _getStyleInfo = getStyleInfo(this);\n\t\n\t  var styles = _getStyleInfo.styles;\n\t  var heightAdjust = _getStyleInfo.heightAdjust;\n\t  var padding = _getStyleInfo.padding;\n\t\n\t  shadowTextarea.setAttribute('style', styles.concat(HIDDEN_TEXTAREA_STYLE).join(';'));\n\t  shadowTextarea.value = this.value;\n\t  var height = shadowTextarea.scrollHeight + heightAdjust;\n\t  var minHeight = -Infinity;\n\t  var maxHeight = Infinity;\n\t\n\t  if (minRows !== null || maxRows !== null) {\n\t    var singleRowHeight = getSingleRowHeight(shadowTextarea) - padding;\n\t    if (minRows !== null) {\n\t      minHeight = singleRowHeight * minRows + padding + heightAdjust;\n\t      height = Math.max(minHeight, height);\n\t    }\n\t    if (maxRows !== null) {\n\t      maxHeight = singleRowHeight * maxRows + padding + heightAdjust;\n\t      height = Math.min(maxHeight, height);\n\t    }\n\t  }\n\t  return height;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1771ef63cc669bd15c3c\n **/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport calHeight from './calHeight.jsx';\n\nclass Textarea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n      height: null\n    };\n    this._handleChange = this._handleChange.bind(this);\n    this._resize = this._resize.bind(this);\n  }\n  componentDidMount() {\n    this._resize();\n  }\n  componentWillReceiveProps(nextProps) {\n    'value' in nextProps && this.setState({value: nextProps.value});\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.state.height !== prevState.height && this.props.onHeightChange(this.state.height, prevState.height);\n  }\n  _resize() {\n    this.setState({\n      height: calHeight.bind(ReactDOM.findDOMNode(this))(this.props.minRows, this.props.maxRows)\n    });\n  }\n  _handleChange(e) {\n    this._resize();\n    const value = e.target.value;\n    this.setState({value});\n    this.props.onChange(value);\n  }\n  render() {\n    let {\n      onChange,\n      value,\n      ...props\n    } = this.props;\n    props = {\n      ...props\n    };\n    props.style = {\n      ...props.style,\n      height: this.state.height\n    };\n    return (<textarea onChange={this._handleChange} value={this.state.value} {...props}/>);\n  }\n}\nTextarea.displayName = 'Textarea';\nTextarea.propTypes = {\n  /**\n   * the maximum number of rows\n   */\n  maxRows: React.PropTypes.number,\n  /**\n   * the minimum number of rows\n   */\n  minRows: React.PropTypes.number,\n  /**\n   * callback when text changes\n   */\n  onChange: React.PropTypes.func,\n  /**\n   * callback when height changes\n   */\n  onHeightChange: React.PropTypes.func,\n  /**\n   * current value of textarea\n   */\n  value: React.PropTypes.string\n};\nTextarea.defaultProps = {\n  minRows: 3,\n  maxRows: 5,\n  onChange: () => {},\n  onHeightChange: () => {}\n};\nexport default Textarea;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.jsx\n **/","const HIDDEN_TEXTAREA_STYLE = [\n  'height: 0',\n  'visibility: hidden',\n  'overflow: hidden',\n  'position: absolute',\n  'z-index: -1000',\n  'top: 0',\n  'right: 0'\n];\nconst STYLES = [\n  'letter-spacing',\n  'line-height',\n  'padding-top',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'font-family',\n  'font-weight',\n  'font-size',\n  'text-transform',\n  'width',\n  'border-width',\n  'box-sizing'\n];\nlet shadowTextarea = null;\nfunction getStyleInfo(textarea) {\n  let computedStyle = window.getComputedStyle(textarea);\n  let boxSizing = getPrefixedStyle(computedStyle, 'box-sizing');\n  let heightAdjust = 0;\n  let padding = getStyleNumber(computedStyle, 'padding-top') + getStyleNumber(computedStyle, 'padding-bottom');\n  let border = getStyleNumber(computedStyle, 'border-bottom-width') + getStyleNumber(computedStyle, 'border-top-width');\n  if (boxSizing === 'border-box')\n    heightAdjust += border;\n  else if (boxSizing === 'content-box')\n    heightAdjust -= padding;\n  return {\n    styles: STYLES.map(name => `${name}:${computedStyle.getPropertyValue(name)}`),\n    padding,\n    border,\n    heightAdjust\n  };\n}\n\nfunction getPrefixedStyle(computedStyle, name) {\n  let prefix = ['-o-', '-ms-', '-moz-', '-webkit-', ''];\n  let tmp;\n  for (let i = prefix.length; i--;)\n    if (tmp = computedStyle.getPropertyValue(prefix[i] + name))\n      return tmp;\n  return null;\n}\n\nfunction getStyleNumber(computedStyle, name) {\n  return parseFloat(computedStyle.getPropertyValue(name));\n}\n\nfunction getSingleRowHeight(textarea) {\n  let tmp = textarea.value;\n  textarea.value = 'x';\n  let result = textarea.scrollHeight;\n  textarea.value = tmp;\n  return result;\n}\n\nexport default function calHeight(minRows, maxRows) {\n  if (!shadowTextarea) document.body.appendChild(shadowTextarea = document.createElement('textarea'));\n    const {\n      styles,\n      heightAdjust,\n      padding\n    } = getStyleInfo(this);\n    shadowTextarea.setAttribute('style', styles.concat(HIDDEN_TEXTAREA_STYLE).join(';'));\n    shadowTextarea.value = this.value;\n    let height = shadowTextarea.scrollHeight + heightAdjust;\n    let minHeight = -Infinity;\n    let maxHeight = Infinity;\n\n\n    if (minRows !== null || maxRows !== null) {\n      let singleRowHeight = getSingleRowHeight(shadowTextarea) - padding;\n      if (minRows !== null) {\n        minHeight = singleRowHeight * minRows + padding + heightAdjust;\n        height = Math.max(minHeight, height);\n      }\n      if (maxRows !== null) {\n        maxHeight = singleRowHeight * maxRows + padding + heightAdjust;\n        height = Math.min(maxHeight, height);\n      }\n    }\n    return height;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/calHeight.jsx\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}